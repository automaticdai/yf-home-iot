<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
"http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=utf-8"/>
<meta name="description" content="Web Template for Scientists"/>
<meta name="keywords" content="web page template webpage latex in html writing equations
table of content automatic reference references formatting markdown
code highlighting scientific documantation pyhat code2html linux
command line text based course page design scientists science"/>
<meta name="author" content="Arman Akbarian"/>
<link rel="stylesheet" type="text/css" href="pagestyle.css"/>
<title>Raspberry PI Documentation</title>
<script type="text/javascript" src="//cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML"></script>
<script src="http://ajax.googleapis.com/ajax/libs/jquery/1.11.1/jquery.min.js"></script>

<script>

$(function() {
		$('a[href*=#]:not([href=#])').click(function() {
			if (location.pathname.replace(/^\//,'') == this.pathname.replace(/^\//,'') && location.hostname == this.hostname) {
			var target = $(this.hash);
			target = target.length ? target : $('[name=' + this.hash.slice(1) +']');
			if (target.length) {
			$('html,body').animate({
scrollTop: target.offset().top
}, 500);
			return false;
			}
			}
			});
		});

</script>


</head>

<body>
<div class="page">
  <div class="page2">
     <div style="width:100%;height:1px;font-family: Tahoma; font-size: 1pt;"></div>
     <div class="header">
		
	     <div class="title">

			Xiaotian Dai
			<div class="subtitle">UNIVERSITY OF YORK <br> COMPUTER SCIENCE DEPT. </div>
	</div> <!-- End of title -->
		<div class="sidebar">
         	<div class="sider">
               <p><a href="index.html">Home <img src="img/home.svg" width="11px"/></a>
<a href="research.html">Research</a>
<a href="publication.html">Publications</a>
<a target="_blank" href="https://www.cs.york.ac.uk/rts/">RTS Group <img style="margin-left:1px;" src="img/external-link.svg" alt="" align="bottom"/></a>
<a href="contact.html">Contact</a>
<a href="cv.html">CV</a></p>

<hr/>

<p><a href="blogs.html">BLOGS</a>
<a href="projs.html">PROJECTS</a>
<a href="wiki.html">WIKI</a>
<a href="about.html">ABOUT</a></p>

             </div>
         </div> <!--End of Sidebar -->


     </div> <!-- end header -->
	
     <!--This line is for future use -->   <div style="text-align:center; padding-top:10px; padding-bottom:10px;"></div>
	      
     <!--This line is for compatibility issues --> <div style="width:100%;height:5px;font-family: Tahoma; font-size: 1pt;"></div>
     <!--in class page2 -->
     <div class="postandside">
		        <div class="content">
            <div class="post">
              <h1>Raspberry PI Documentation</h1>

<p><div class="table_of_contents">
<!-- ~~~~~~~~~~~~~~~~~~~~ BEGIN TABLE OF CONTENTS ~~~~~~~~~~~~~~~~~~~~ -->
<!--~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~
Table of contents was automatically generated by program: pyhat.py.
Generation date/time: 2016-11-21 17:00:02
For more information: visit www.ferg.org/pyhat
~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~~-->
<a id="contents_item_0"></a>
<h2>Table of Contents</h2>
<table width="100%" border="0" cellpadding="0" cellspacing="0">
<tr>
<td width="4%">&nbsp;</td><td width="4%">&nbsp;</td><td width="4%">&nbsp;</td><td width="4%">&nbsp;</td><td width="4%">&nbsp;</td><td>&nbsp;</td>
</tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">1</a> <a href="#contents_item_1" id="table_of_contents_1">Basic</a></div></td></tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">2</a> <a href="#contents_item_2" id="table_of_contents_2">Networking</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">2.1</a> <a href="#contents_item_2.1" id="table_of_contents_2.1">Eth0</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">2.2</a> <a href="#contents_item_2.2" id="table_of_contents_2.2">Bluetooth</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">2.3</a> <a href="#contents_item_2.3" id="table_of_contents_2.3">WiFi</a></div></td></tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">3</a> <a href="#contents_item_3" id="table_of_contents_3">GPIO</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">3.1</a> <a href="#contents_item_3.1" id="table_of_contents_3.1">GPIO Defination</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">3.2</a> <a href="#contents_item_3.2" id="table_of_contents_3.2">RPi.GPIO</a></div></td></tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">4</a> <a href="#contents_item_4" id="table_of_contents_4">I2C</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">4.1</a> <a href="#contents_item_4.1" id="table_of_contents_4.1">Setup</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">4.2</a> <a href="#contents_item_4.2" id="table_of_contents_4.2">SMBus (System Management Bus) Functions</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">4.3</a> <a href="#contents_item_4.3" id="table_of_contents_4.3">I2C Access Functions</a></div></td></tr>
<tr><td colspan="2">&nbsp;</td><td colspan="4"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">4.4</a> <a href="#contents_item_4.4" id="table_of_contents_4.4">Example Code</a></div></td></tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">5</a> <a href="#contents_item_5" id="table_of_contents_5">SPI</a></div></td></tr>
<tr><td colspan="1">&nbsp;</td><td colspan="5"><div style="text-align:left; text-indent:-3em; margin-left:3em;><a href="#contents_item_0">6</a> <a href="#contents_item_6" id="table_of_contents_6">ADC / DAC</a></div></td></tr>
</table>
<!-- ~~~~~~~~~~~~~~~~~~~~ _END_ TABLE OF CONTENTS ~~~~~~~~~~~~~~~~~~~~ -->
</div></p>

<h2><span class="contents_item"><a href="#table_of_contents_1" id="contents_item_1">
1</a>
</span>Basic</h2>

<h2><span class="contents_item"><a href="#table_of_contents_2" id="contents_item_2">
2</a>
</span>Networking</h2>

<h3><span class="contents_item"><a href="#table_of_contents_2.1" id="contents_item_2.1">
2.1</a>
</span>Eth0</h3>

<ul>
<li>Configure static address:</li>
</ul>

<p>Execute <code>$vim /etc/network/interfaces</code> and change the content to:</p>

<pre><code>iface eth0 inet static
address 192.168.1.100  # Static IP Address
netmask 255.255.255.0  # Netmask
gateway 192.168.1.1    # Gateway
</code></pre>

<h3><span class="contents_item"><a href="#table_of_contents_2.2" id="contents_item_2.2">
2.2</a>
</span>Bluetooth</h3>

<h3><span class="contents_item"><a href="#table_of_contents_2.3" id="contents_item_2.3">
2.3</a>
</span>WiFi</h3>

<p><code>sudo iwlist wlan0 scan</code></p>

<p><code>ifconfig wlan0</code></p>

<h2><span class="contents_item"><a href="#table_of_contents_3" id="contents_item_3">
3</a>
</span>GPIO</h2>

<h3><span class="contents_item"><a href="#table_of_contents_3.1" id="contents_item_3.1">
3.1</a>
</span>GPIO Defination</h3>

<pre><code>+-------+---------+-------------+-----+-----+------------+----------+--------+
| BCM   | WIRING  | FUNCTION    | PIN | PIN | FUNCTION   | WIRING   | BCM    |
+-------+---------+-------------+-----+-----+------------+----------+--------+
|       |         | 3v3         | 1   | 2   | 5v         |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 2     | 8       | SDA1        | 3   | 4   | 5v         |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 3     | 9       | SCL1        | 5   | 6   | GND        |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 4     | 7       | GPCLK0      | 7   | 8   | TXD0       | 15       | 14     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
|       |         | GND         | 9   | 10  | RXD0       | 16       | 15     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 17    | 0       |             | 11  | 12  | PWM0       | 1        | 18     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 27    | 2       |             | 13  | 14  | GND        |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 22    | 3       |             | 15  | 16  |            | 4        | 23     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
|       |         | 3v3         | 17  | 18  |            | 5        | 24     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 10    | 12      | MOSI0       | 19  | 20  | GND        |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 9     | 13      | MISO0       | 21  | 22  |            | 6        | 25     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 11    | 14      | SCLK0       | 23  | 24  | CE0        | 10       | 8      |
+-------+---------+-------------+-----+-----+------------+----------+--------+
|       |         | GND         | 25  | 26  | CE1        | 11       | 7      |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| ----- | ------- | ----------- | --- | --- | ---------- | -------- | ------ |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 0     | 30      | SDA0        | 27  | 28  | SCL0       | 31       | 1      |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 5     | 21      | GPCLK1      | 29  | 30  | GND        |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 6     | 22      | GPCLK2      | 31  | 32  | PWM0       | 26       | 12     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 13    | 23      | PWM1        | 33  | 34  | GND        |          |        |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 19    | 24      | MISO1       | 35  | 36  |            | 27       | 16     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
| 26    | 25      |             | 37  | 38  | MOSI1      | 28       | 20     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
|       |         | GND         | 39  | 40  | SCLK1      | 29       | 21     |
+-------+---------+-------------+-----+-----+------------+----------+--------+
</code></pre>

<h3><span class="contents_item"><a href="#table_of_contents_3.2" id="contents_item_3.2">
3.2</a>
</span>RPi.GPIO</h3>

<pre><code>#!/usr/bin/python
import RPi.GPIO as GPIO
import time

GPIO.setmode(GPIO.BOARD)
GPIO.setup(7, GPIO.OUT)

while True:
    GPIO.output(7, GPIO.LOW)
    time.sleep(0.5)
    GPIO.output(7, GPIO.HIGH)
    time.sleep(0.5)
</code></pre>

<h2><span class="contents_item"><a href="#table_of_contents_4" id="contents_item_4">
4</a>
</span>I2C</h2>

<h3><span class="contents_item"><a href="#table_of_contents_4.1" id="contents_item_4.1">
4.1</a>
</span>Setup</h3>

<p>Setup environment: <code>sudo apt-get install python-smbus i2c-tools</code> </p>

<p>Detect IIC devices: <code>iicdetect -y 1</code></p>

<h3><span class="contents_item"><a href="#table_of_contents_4.2" id="contents_item_4.2">
4.2</a>
</span>SMBus (System Management Bus) Functions</h3>

<p><code>long write_quick(int addr)</code> Send only the read / write bit</p>

<p><code>long read_byte(int addr)</code> Read a single byte from a device, without specifying a device register.</p>

<p><code>long write_byte(int addr,char val)</code> Send a single byte to a device</p>

<p><code>long read_byte_data(int addr,char cmd)</code> Read Byte Data transaction.</p>

<p><code>long write_byte_data(int addr,char cmd,char val)</code> Write Byte Data transaction.</p>

<p><code>long read_word_data(int addr,char cmd)</code> Read Word Data transaction.</p>

<p><code>long write_word_data(int addr,char cmd,int val)</code> Write Word Data transaction.</p>

<p><code>long process_call(int addr,char cmd,int val)</code> Process Call transaction.</p>

<p><code>long[] read_block_data(int addr,char cmd)</code> Read Block Data transaction.     </p>

<p><code>write_block_data(int addr,char cmd,long vals[])</code> Write up to 32 bytes to a device.  This fucntion adds an initial byte indicating the length of the vals array before the valls array.  Use <code>write_i2c_block_data</code> instead!</p>

<p><code>long[] block_process_call(int addr,char cmd,long vals[])</code> Block Process Call transaction.      </p>

<h3><span class="contents_item"><a href="#table_of_contents_4.3" id="contents_item_4.3">
4.3</a>
</span>I2C Access Functions</h3>

<p><code>long[] read_i2c_block_data(int addr,char cmd)</code> Block Read transaction.</p>

<p><code>write_i2c_block_data(int addr,char cmd,long vals[])</code> Block Write transaction.</p>

<h3><span class="contents_item"><a href="#table_of_contents_4.4" id="contents_item_4.4">
4.4</a>
</span>Example Code</h3>

<pre><code>#!/usr/bin/python
import smbus

bus = smbus.SMBus(1)    # 0 = /dev/i2c-0 (port I2C0), 1 = /dev/i2c-1 (port I2C1)

DEVICE_ADDRESS = 0x15      #7 bit address (will be left shifted to add the read write bit)
DEVICE_REG_MODE1 = 0x00
DEVICE_REG_LEDOUT0 = 0x1d

#Write a single register
bus.write_byte_data(DEVICE_ADDRESS, DEVICE_REG_MODE1, 0x80)

#Write an array of registers
ledout_values = [0xff, 0xff, 0xff, 0xff, 0xff, 0xff]
bus.write_i2c_block_data(DEVICE_ADDRESS, DEVICE_REG_LEDOUT0, ledout_values)
</code></pre>

<h2><span class="contents_item"><a href="#table_of_contents_5" id="contents_item_5">
5</a>
</span>SPI</h2>

<p><code>ls /dev/spidev*</code></p>

<h2><span class="contents_item"><a href="#table_of_contents_6" id="contents_item_6">
6</a>
</span>ADC / DAC</h2>

<p>There is no ADC and DAC built in Raspberry PI. However, there are ADC / DAC that uses IIC as a interface, which can be connected to the Raspberry PI IIC bus.

</p>

		      <div style="clear: both;"></div>
	         </div>
		      <hr/>
	         <div class="date">last update: Fri May 06, 2016</div>
	    <div class="footer">
           <p>| <a href="index.html">Home</a> | Copyright  (C) 2016 Xiaotian Dai. | This Website is powered by Markdown, MathJax and Apache. | <a href="../../cgi-bin/info.py">Status</a> | </p>

      </div>  
	    <div style="clear: both;">&nbsp;</div>
        </div> <!-- end content -->
	<!-- in class postandside -->

                 <!--in class postandside-->   
         <!--this line is for compatibility issues --><div style="clear: both;">&#160;</div> <!--Displacement --> 
     </div> <!--End of post and side -->

     <!-- in class page2 -->
     <div style="clear: both;">&nbsp;</div>
  </div> <!--End of Page2 -->
     <div style="clear: both;">&nbsp;</div>

</div> <!-- End of page -->
<!--this is end of the file -->
<!-- ~~~ This content is generated using sg web template ~~-->
<!-- ~~~ For more information visit: http://laplace.physics.ubc.ca/People/arman/sg ~~ -->
</body>
</html>
